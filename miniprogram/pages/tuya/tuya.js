"use strict";
Page({
    startX: 0,
    startY: 0,
    context: wx.createCanvasContext("my-canvas"),
    data: {
        pen: 2,
        color: "#008c8c",
    },
    touchStart: function (e) {
        this.startX = e.changedTouches[0].x;
        this.startY = e.changedTouches[0].y;
        this.context = wx.createCanvasContext("my-canvas");
        this.context.setStrokeStyle(this.data.color);
        this.context.setLineWidth(this.data.pen);
        this.context.setLineCap("round");
        this.context.beginPath();
    },
    touchMove: function (e) {
        var _a = e.changedTouches[0], moveX = _a.x, moveY = _a.y;
        this.context.moveTo(this.startX, this.startY);
        this.context.lineTo(moveX, moveY);
        this.context.stroke();
        this.startX = moveX;
        this.startY = moveY;
        this.context.draw(true);
    },
    penSelect: function (e) {
        this.setData({ pen: parseInt(e.currentTarget.dataset.param) });
    },
    colorSelect: function (e) {
        this.setData({ color: e.currentTarget.dataset.color });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHV5YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInR1eWEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUksQ0FBQztJQUVILE1BQU0sRUFBRSxDQUFDO0lBQ1QsTUFBTSxFQUFFLENBQUM7SUFDVCxPQUFPLEVBQUUsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQztJQUM1QyxJQUFJLEVBQUU7UUFDSixHQUFHLEVBQUUsQ0FBQztRQUNOLEtBQUssRUFBRSxTQUFTO0tBQ2pCO0lBRUQsVUFBVSxZQUFDLENBQU07UUFFZixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsbUJBQW1CLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFbkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU3QyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRWpDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUtELFNBQVMsWUFBQyxDQUFNO1FBQ1IsSUFBQSx3QkFBNEMsRUFBMUMsWUFBUSxFQUFFLFlBQWdDLENBQUM7UUFFbkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRWxDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7UUFHdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFFcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUtELFNBQVMsWUFBQyxDQUFNO1FBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFLRCxXQUFXLFlBQUMsQ0FBTTtRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDekQsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlBhZ2Uoe1xuICAvLyDlrprkuYnlnZDmoIflj5jph49cbiAgc3RhcnRYOiAwLFxuICBzdGFydFk6IDAsXG4gIGNvbnRleHQ6IHd4LmNyZWF0ZUNhbnZhc0NvbnRleHQoXCJteS1jYW52YXNcIiksXG4gIGRhdGE6IHtcbiAgICBwZW46IDIsXG4gICAgY29sb3I6IFwiIzAwOGM4Y1wiLFxuICB9LFxuICAvLyDop6bmkbjlvIDlp4vop6blj5FcbiAgdG91Y2hTdGFydChlOiBhbnkpIHtcbiAgICAvLyDojrflj5blvZPliY3nmoTlnZDmoIfkvY3nva5cbiAgICB0aGlzLnN0YXJ0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ueDtcbiAgICB0aGlzLnN0YXJ0WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ueTtcbiAgICAvLyDliJvlu7rnu5jlm77kuIrkuIvmloflr7nosaFcbiAgICB0aGlzLmNvbnRleHQgPSB3eC5jcmVhdGVDYW52YXNDb250ZXh0KFwibXktY2FudmFzXCIpO1xuICAgIC8vIOiuvue9ruminOiJslxuICAgIHRoaXMuY29udGV4dC5zZXRTdHJva2VTdHlsZSh0aGlzLmRhdGEuY29sb3IpO1xuICAgIC8vIOiuvue9rueslOinplxuICAgIHRoaXMuY29udGV4dC5zZXRMaW5lV2lkdGgodGhpcy5kYXRhLnBlbik7XG4gICAgLy8g6K6+572u56yU6L65XG4gICAgdGhpcy5jb250ZXh0LnNldExpbmVDYXAoXCJyb3VuZFwiKTtcbiAgICAvLyDlvIDlp4vnu5jnlLtcbiAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gIH0sXG4gIC8qKlxuICAgKiDop6bmkbjnmoTnp7vliqjkuovku7ZcbiAgICogQHBhcmFtIGVcbiAgICovXG4gIHRvdWNoTW92ZShlOiBhbnkpIHtcbiAgICBjb25zdCB7IHg6IG1vdmVYLCB5OiBtb3ZlWSB9ID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAvLyDorr7nva7nlLvnrJTnp7vliqjliLDnm7jlupTnmoTngrlcbiAgICB0aGlzLmNvbnRleHQubW92ZVRvKHRoaXMuc3RhcnRYLCB0aGlzLnN0YXJ0WSk7XG4gICAgLy8g57uY5Yi25LiA5p2h5YiweDHvvIx5MeeahOebtOe6v1xuICAgIHRoaXMuY29udGV4dC5saW5lVG8obW92ZVgsIG1vdmVZKTtcbiAgICAvLyDpnIDopoHov5vooYzot6/lvoTnmoTmj4/ovrko5YaF5a2Y5a6M5oiQKVxuICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcblxuICAgIC8vIOmHjeaWsOiuvue9ruWdkOagh+eCuVxuICAgIHRoaXMuc3RhcnRYID0gbW92ZVg7XG4gICAgdGhpcy5zdGFydFkgPSBtb3ZlWTtcbiAgICAvLyDnu5jliLZcbiAgICB0aGlzLmNvbnRleHQuZHJhdyh0cnVlKTtcbiAgfSxcbiAgLyoqXG4gICAqIOmAieWPlueslOeyl+e7hueahOaTjeS9nFxuICAgKiBAcGFyYW0gZVxuICAgKi9cbiAgcGVuU2VsZWN0KGU6IGFueSkge1xuICAgIHRoaXMuc2V0RGF0YSh7IHBlbjogcGFyc2VJbnQoZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucGFyYW0pIH0pO1xuICB9LFxuICAvKipcbiAgICog6YCJ5Y+W6aKc6Imy55qE5pON5L2cXG4gICAqIEBwYXJhbSBlXG4gICAqL1xuICBjb2xvclNlbGVjdChlOiBhbnkpIHtcbiAgICB0aGlzLnNldERhdGEoeyBjb2xvcjogZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY29sb3IgfSk7XG4gIH0sXG59KTtcbiJdfQ==