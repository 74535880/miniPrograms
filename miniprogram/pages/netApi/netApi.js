"use strict";
Page({
    requestTask: {},
    downloadFileTask: {},
    data: {
        uploadImage: "",
        precent: 0,
        imgpath: "",
        uploadUrl: "",
        filePath: "",
        downFileUrl: "https://i.pinimg.com/564x/d2/5e/95/d25e95e341a716d671d1b5fcf605daf2.jpg",
        requestUrl: "https://www.google.com/search?hl=zh-CN&sxsrf=ALeKk02PfUzBmwXx1lINWUZrXPuc9bMSIA%3A1593768117534&source=hp&ei=tfj-XoLHHsuxmAX0u5ugCA&q=%E8%AE%A1%E7%AE%97%E6%9C%BA&oq=%E8%AE%A1%E7%AE%97%E6%9C%BA&gs_lcp=CgZwc3ktYWIQAzICCAAyAggAMgIIADICCAAyAggAMgIIADICCAAyAggAMgIIADICCAA6BwgjEOoCECc6BQgAEIMBOgUIABCxAzoECAAQDDoHCAAQsQMQDDoHCAAQDBCDAToGCAAQDBAKOggIABAMEAoQHjoKCAAQDBAFEAoQHjoECAAQHjoGCAAQCBAeOgYIABAFEB5Qo7LUAlit19QCYKrY1AJoCHAAeAKAAbwBiAHDGpIBBDQuMjOYAQCgAQGqAQdnd3Mtd2l6sAEK&sclient=psy-ab&ved=0ahUKEwjC9f3z4LDqAhXLGKYKHfTdBoQQ4dUDCAc&uact=5",
    },
    onLoad: function () { },
    request: function () {
        this.requestTask = wx.request({
            url: this.data.requestUrl,
            data: {},
            header: {
                contentType: "application/json",
            },
            method: "GET",
            dataType: "json",
            responseType: "text",
            success: function (res) {
                if (res.statusCode === 200) {
                    console.log("success");
                }
            },
            complete: function (res) {
                console.log(res);
            },
        });
    },
    requestAbort: function () {
        this.requestTask.abort();
    },
    onHeaderReceived: function () {
        this.requestTask.onHeadersReceived(function (res) {
            console.log(res);
        });
    },
    downLoadFile: function () {
        var _this = this;
        this.downloadFileTask = wx.downloadFile({
            url: this.data.downFileUrl,
            header: {},
            success: function (res) {
                if (res.statusCode === 200) {
                    _this.setData({ imgpath: res.tempFilePath });
                }
            },
            complete: function (res) {
                console.log(res);
            },
        });
        this.downloadFileTask.onProgressUpdate(function (res) {
            console.log("下载进度", res.progress);
            console.log("已经下载的总长度", res.totalBytesWritten);
            console.log("预期下载的进度", res.totalBytesExpectedToWrite);
            _this.setData({ precent: res.totalBytesWritten });
        });
    },
    uploadFile: function () {
        var _this = this;
        wx.chooseImage({
            success: function (res) {
                _this.setData({ uploadImage: res.tempFilePaths[0] });
                wx.uploadFile({
                    url: _this.data.uploadUrl,
                    filePath: res.tempFilePaths[0],
                    name: "cmw",
                    success: function (res) {
                        console.log(res);
                    },
                });
            },
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0QXBpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmV0QXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFJLENBQUM7SUFDSCxXQUFXLEVBQUUsRUFBbUM7SUFDaEQsZ0JBQWdCLEVBQUUsRUFBb0M7SUFDdEQsSUFBSSxFQUFFO1FBQ0osV0FBVyxFQUFFLEVBQUU7UUFDZixPQUFPLEVBQUUsQ0FBQztRQUNWLE9BQU8sRUFBRSxFQUFFO1FBQ1gsU0FBUyxFQUFFLEVBQUU7UUFDYixRQUFRLEVBQUUsRUFBRTtRQUNaLFdBQVcsRUFDVCx5RUFBeUU7UUFDM0UsVUFBVSxFQUNSLDZoQkFBNmhCO0tBQ2hpQjtJQUVELE1BQU0sZ0JBQUksQ0FBQztJQUNYLE9BQU87UUFDTCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUM7WUFDNUIsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUN6QixJQUFJLEVBQUUsRUFBRTtZQUNSLE1BQU0sRUFBRTtnQkFDTixXQUFXLEVBQUUsa0JBQWtCO2FBQ2hDO1lBQ0QsTUFBTSxFQUFFLEtBQUs7WUFDYixRQUFRLEVBQUUsTUFBTTtZQUNoQixZQUFZLEVBQUUsTUFBTTtZQUNwQixPQUFPLEVBQUUsVUFBQyxHQUFHO2dCQUNYLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7b0JBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQ3hCO1lBQ0gsQ0FBQztZQUNELFFBQVEsRUFBRSxVQUFDLEdBQUc7Z0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQixDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUlELFlBQVk7UUFDVixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxJQUFJLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLFVBQUMsR0FBRztZQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUlELFlBQVk7UUFBWixpQkFtQkM7UUFsQkMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUM7WUFDdEMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVztZQUMxQixNQUFNLEVBQUUsRUFBRTtZQUNWLE9BQU8sRUFBRSxVQUFDLEdBQUc7Z0JBQ1gsSUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtvQkFDMUIsS0FBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztpQkFDN0M7WUFDSCxDQUFDO1lBQ0QsUUFBUSxFQUFFLFVBQUMsR0FBRztnQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLENBQUM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsVUFBQyxHQUFHO1lBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNsQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUN0RCxLQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7UUFDbkQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBSUQsVUFBVTtRQUFWLGlCQWVDO1FBZEMsRUFBRSxDQUFDLFdBQVcsQ0FBQztZQUNiLE9BQU8sRUFBRSxVQUFDLEdBQUc7Z0JBQ1gsS0FBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDcEQsRUFBRSxDQUFDLFVBQVUsQ0FBQztvQkFDWixHQUFHLEVBQUUsS0FBSSxDQUFDLElBQUksQ0FBQyxTQUFTO29CQUN4QixRQUFRLEVBQUUsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7b0JBQzlCLElBQUksRUFBRSxLQUFLO29CQUVYLE9BQU8sRUFBRSxVQUFDLEdBQUc7d0JBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDbkIsQ0FBQztpQkFDRixDQUFDLENBQUM7WUFDTCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlBhZ2Uoe1xuICByZXF1ZXN0VGFzazoge30gYXMgV2VjaGF0TWluaXByb2dyYW0uUmVxdWVzdFRhc2ssXG4gIGRvd25sb2FkRmlsZVRhc2s6IHt9IGFzIFdlY2hhdE1pbmlwcm9ncmFtLkRvd25sb2FkVGFzayxcbiAgZGF0YToge1xuICAgIHVwbG9hZEltYWdlOiBcIlwiLFxuICAgIHByZWNlbnQ6IDAsXG4gICAgaW1ncGF0aDogXCJcIixcbiAgICB1cGxvYWRVcmw6IFwiXCIsXG4gICAgZmlsZVBhdGg6IFwiXCIsXG4gICAgZG93bkZpbGVVcmw6XG4gICAgICBcImh0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvZDIvNWUvOTUvZDI1ZTk1ZTM0MWE3MTZkNjcxZDFiNWZjZjYwNWRhZjIuanBnXCIsXG4gICAgcmVxdWVzdFVybDpcbiAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/aGw9emgtQ04mc3hzcmY9QUxlS2swMlBmVXpCbXdYeDFsSU5XVVpyWFB1YzliTVNJQSUzQTE1OTM3NjgxMTc1MzQmc291cmNlPWhwJmVpPXRmai1Yb0xISHN1eG1BWDB1NXVnQ0EmcT0lRTglQUUlQTElRTclQUUlOTclRTYlOUMlQkEmb3E9JUU4JUFFJUExJUU3JUFFJTk3JUU2JTlDJUJBJmdzX2xjcD1DZ1p3YzNrdFlXSVFBeklDQ0FBeUFnZ0FNZ0lJQURJQ0NBQXlBZ2dBTWdJSUFESUNDQUF5QWdnQU1nSUlBRElDQ0FBNkJ3Z2pFT29DRUNjNkJRZ0FFSU1CT2dVSUFCQ3hBem9FQ0FBUUREb0hDQUFRc1FNUUREb0hDQUFRREJDREFUb0dDQUFRREJBS09nZ0lBQkFNRUFvUUhqb0tDQUFRREJBRkVBb1FIam9FQ0FBUUhqb0dDQUFRQ0JBZU9nWUlBQkFGRUI1UW83TFVBbGl0MTlRQ1lLclkxQUpvQ0hBQWVBS0FBYndCaUFIREdwSUJCRFF1TWpPWUFRQ2dBUUdxQVFkbmQzTXRkMmw2c0FFSyZzY2xpZW50PXBzeS1hYiZ2ZWQ9MGFoVUtFd2pDOWYzejRMRHFBaFhMR0tZS0hmVGRCb1FRNGRVRENBYyZ1YWN0PTVcIixcbiAgfSxcblxuICBvbkxvYWQoKSB7fSxcbiAgcmVxdWVzdCgpIHtcbiAgICB0aGlzLnJlcXVlc3RUYXNrID0gd3gucmVxdWVzdCh7XG4gICAgICB1cmw6IHRoaXMuZGF0YS5yZXF1ZXN0VXJsLFxuICAgICAgZGF0YToge30sXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgIHJlc3BvbnNlVHlwZTogXCJ0ZXh0XCIsIC8vIOebuOW6lOeahOaVsOaNruagvOW8j1xuICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlOiAocmVzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICog57uI5q2i6K+35rGCXG4gICAqL1xuICByZXF1ZXN0QWJvcnQoKSB7XG4gICAgdGhpcy5yZXF1ZXN0VGFzay5hYm9ydCgpO1xuICB9LFxuICAvLyAgIOebkeWQrHJlcXVlc3RUYXNr5Lu75YqhXG4gIG9uSGVhZGVyUmVjZWl2ZWQoKSB7XG4gICAgdGhpcy5yZXF1ZXN0VGFzay5vbkhlYWRlcnNSZWNlaXZlZCgocmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICog5LiL6L295paH5Lu2XG4gICAqL1xuICBkb3duTG9hZEZpbGUoKSB7XG4gICAgdGhpcy5kb3dubG9hZEZpbGVUYXNrID0gd3guZG93bmxvYWRGaWxlKHtcbiAgICAgIHVybDogdGhpcy5kYXRhLmRvd25GaWxlVXJsLFxuICAgICAgaGVhZGVyOiB7fSxcbiAgICAgIHN1Y2Nlc3M6IChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgICB0aGlzLnNldERhdGEoeyBpbWdwYXRoOiByZXMudGVtcEZpbGVQYXRoIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGxldGU6IChyZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGhpcy5kb3dubG9hZEZpbGVUYXNrLm9uUHJvZ3Jlc3NVcGRhdGUoKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCLkuIvovb3ov5vluqZcIiwgcmVzLnByb2dyZXNzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi5bey57uP5LiL6L2955qE5oC76ZW/5bqmXCIsIHJlcy50b3RhbEJ5dGVzV3JpdHRlbik7IC8vIOihqOekuueZvuWIhuavlFxuICAgICAgY29uc29sZS5sb2coXCLpooTmnJ/kuIvovb3nmoTov5vluqZcIiwgcmVzLnRvdGFsQnl0ZXNFeHBlY3RlZFRvV3JpdGUpO1xuICAgICAgdGhpcy5zZXREYXRhKHsgcHJlY2VudDogcmVzLnRvdGFsQnl0ZXNXcml0dGVuIH0pO1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICog5LiK5Lyg5paH5Lu2LOS4gOiIrOaYr+S4iuS8oOWbvueJh+OAguS+i+WmguS4iuS8oOWbvueJh1xuICAgKi9cbiAgdXBsb2FkRmlsZSgpIHtcbiAgICB3eC5jaG9vc2VJbWFnZSh7XG4gICAgICBzdWNjZXNzOiAocmVzKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7IHVwbG9hZEltYWdlOiByZXMudGVtcEZpbGVQYXRoc1swXSB9KTtcbiAgICAgICAgd3gudXBsb2FkRmlsZSh7XG4gICAgICAgICAgdXJsOiB0aGlzLmRhdGEudXBsb2FkVXJsLCAvLyDlhazlj7jmnI3liqHlmajnmoTlnLDlnYBcbiAgICAgICAgICBmaWxlUGF0aDogcmVzLnRlbXBGaWxlUGF0aHNbMF0sIC8vIOacrOWcsOeahOaWh+S7tueahOWcsOWdgFxuICAgICAgICAgIG5hbWU6IFwiY213XCIsIC8vIOaWh+S7tueahOWQjeWtl++8jOeUqOS6juacjeWKoeWZqOWPlmtleVxuXG4gICAgICAgICAgc3VjY2VzczogKHJlcykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG59KTtcbiJdfQ==